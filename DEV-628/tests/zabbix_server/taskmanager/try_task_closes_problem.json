[
	{
		"test_case": "successfully close the problem",
		"in": {
			"names": ["taskid"],
			"values": [1]
		},
		"out": {
			"names": ["return"],
			"values": [0]
		},
		"db_data": {
			"task_close_problem_events": {
				"fields": [
					"userid", "eventid", "objectid"
				],
				"rows": [
					[1, 1, 1]
				]
			},
			"problem": {
				"fields": [
				],
				"rows" : [
					[]
				]
			}
		},
		"functions": {
			"DCconfig_lock_triggers_by_triggerids": {
				"out": {
					"params": ["triggerids"],
					"values": [1]
				}
			}
		}
	},
	{
		"test_case": "cannot find a task in the db",
		"in": {
			"names": ["taskid"],
			"values": [1]
		},
		"out": {
			"names": ["return"],
			"values": [-1]
		},
		"db_data": {
			"task_close_problem_events": {
				"fields" : [
				],
				"rows" : [
					[]
				]
			}
		}
	},
        {
		"test_case": "fail close the problem if source trigger was not locked",
		"in": {
			"names": ["taskid"],
			"values": [1]
		},
		"out": {
			"names": ["return"],
			"values": [-1]
		},
		"db_data": {
			"task_close_problem_events": {
				"fields": [
					"userid", "eventid", "objectid"
				],
				"rows": [
					[1, 1, 1]
				]
			},
			"problem": {
				"fields": [
				],
				"rows": [
					[]
				]
			}
		},
		"functions": {
			"DCconfig_lock_triggers_by_triggerids": {
				"out": {
					"params": [],
					"values": []
				}
			}
		}
	}
]
